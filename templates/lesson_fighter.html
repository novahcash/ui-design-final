{% extends "class_info.html" %}

{% block class_specific_content %}

<!-- Fighting Style Section -->
<div class="subsection">
    <h4>Fighting Style</h4>
    <div class="row">
        <div class="col-md-6">
            <select id="fighting-style" name="class_fighting_style" class="form-select">
                <option disabled selected>-- Choose Fighting Style --</option>
                <option value="Archery" data-info="You gain a +2 bonus to attack rolls you make with ranged weapons.">Archery</option>
                <option value="Blind Fighting" data-info="You have blindsight within a range of 10 feet.">Blind Fighting</option>
                <option value="Defense" data-info="While wearing armor, you gain a +1 bonus to AC.">Defense</option>
                <option value="Dueling" data-info="When wielding a melee weapon in one hand and no other weapons, gain +2 to damage rolls.">Dueling</option>
                <option value="Great Weapon Fighting" data-info="Reroll 1s or 2s on damage dice for melee weapon attacks with two-handed weapons.">Great Weapon Fighting</option>
                <option value="Interception" data-info="Use your reaction to reduce damage dealt to a creature within 5 feet by 1d10 + proficiency bonus.">Interception</option>
                <option value="Protection" data-info="When a creature you can see attacks a target other than you within 5 feet, use your reaction to impose disadvantage.">Protection</option>
                <option value="Thrown Weapon Fighting" data-info="Draw a thrown weapon as part of an attack; +2 damage with thrown weapons.">Thrown Weapon Fighting</option>
                <option value="Two-Weapon Fighting" data-info="Add ability modifier to the damage of your off-hand attack.">Two-Weapon Fighting</option>
                <option value="Unarmed Fighting" data-info="Your unarmed strike deals 1d6 bludgeoning damage (or 1d8 if not holding any weapons or shield).">Unarmed Fighting</option>
            </select>
            <div id="fighting-style-info" class="skill-info"></div>
        </div>
    </div>
</div>

<!-- Weapon Masteries -->
<div class="subsection">
    <h4>Weapon Masteries</h4>
    <ul>
        <li><strong>Greatsword:</strong> <em>Graze</em> – If your attack roll misses a creature, you can deal damage equal to your Strength modifier.</li>
        <li><strong>Flail:</strong> <em>Sap</em> – If you hit a creature with this weapon, that creature has <span class="tooltip-highlight" title="Fill in during the next prototype">Disadvantage</span> on its next attack roll before the start of your next turn.</li>
        <li><strong>Javelin:</strong> <em>Slow</em> – If you hit a creature with this weapon and deal damage to it, you can reduce its Speed by 10 feet until the start of your next turn.</li>
    </ul>
</div>

<!-- Abilities (already shared) -->
{% endblock %}

{% block class_specific_script %}
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const styleSelect = document.getElementById('fighting-style');
        const infoBox = document.getElementById('fighting-style-info');

        styleSelect?.addEventListener('change', function () {
            const selected = styleSelect.options[styleSelect.selectedIndex];
            infoBox.textContent = selected.getAttribute('data-info') || '';
        });

        styleSelect?.addEventListener('blur', function () {
            setTimeout(() => { infoBox.textContent = ''; }, 150);
        });
    });
</script>
{% endblock %}
